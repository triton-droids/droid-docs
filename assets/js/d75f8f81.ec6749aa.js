"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[522],{8475:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var o=i(4848),r=i(8453);const s={sidebar_position:1,title:"ROS2",hide_title:!0},t=void 0,a={id:"software/onboarding/ros2",title:"ROS2",description:"This tutorial is generously provided by Dr Ilkka Jormanainen at the University of Eastern Finland and Henki Robotics. For up to date material, please reference the official source repository available here.",source:"@site/docs/software/onboarding/ros2.md",sourceDirName:"software/onboarding",slug:"/software/onboarding/ros2",permalink:"/droid-docs/software/onboarding/ros2",draft:!1,unlisted:!1,editUrl:"https://github.com/triton-droids/droid-docs/tree/main/docs/software/onboarding/ros2.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"ROS2",hide_title:!0},sidebar:"docsSidebar",previous:{title:"Software Title",permalink:"/droid-docs/software/"},next:{title:"Controls Title",permalink:"/droid-docs/controls/"}},l={},d=[{value:"Re-build a container",id:"re-build-a-container",level:4},{value:"Run a container",id:"run-a-container",level:4},{value:"Run a container in detached mode",id:"run-a-container-in-detached-mode",level:4},{value:"Open a new terminal inside the Docker container <a></a>",id:"open-a-new-terminal-inside-the-docker-container-",level:4},{value:"List all running Docker containers",id:"list-all-running-docker-containers",level:4},{value:"Stop a running container",id:"stop-a-running-container",level:4},{value:"Remove a container",id:"remove-a-container",level:4},{value:"Setup",id:"setup",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn",level:4},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Installing Docker",id:"installing-docker",level:3},{value:"System Requirements",id:"system-requirements",level:4},{value:"1. Enable WSL 2",id:"1-enable-wsl-2",level:4},{value:"2. Download Docker Desktop",id:"2-download-docker-desktop",level:4},{value:"3. Verify Installation",id:"3-verify-installation",level:4},{value:"1. Add Docker&#39;s Official GPG Key",id:"1-add-dockers-official-gpg-key",level:4},{value:"2. Set Up the Docker Repository",id:"2-set-up-the-docker-repository",level:4},{value:"3. Install Docker Engine and packages",id:"3-install-docker-engine-and-packages",level:4},{value:"4. Verify Installation",id:"4-verify-installation",level:4},{value:"Optional: Admin Privileges",id:"optional-admin-privileges",level:4},{value:"Optional: NVIDIA GPU Support with Docker",id:"optional-nvidia-gpu-support-with-docker",level:4},{value:"1. Configure the production repository:",id:"1-configure-the-production-repository",level:4},{value:"2. (Optional) Enable experimental packages:",id:"2-optional-enable-experimental-packages",level:4},{value:"3. Update and install:",id:"3-update-and-install",level:4},{value:"4. Configure Docker to use NVIDIA runtime:",id:"4-configure-docker-to-use-nvidia-runtime",level:4},{value:"5. Restart Docker:",id:"5-restart-docker",level:4},{value:"Installing Content Material",id:"installing-content-material",level:3},{value:"Create Your Workspace",id:"create-your-workspace",level:4},{value:"Launch the Docker Container",id:"launch-the-docker-container",level:4},{value:"Open a Terminal Inside the Container",id:"open-a-terminal-inside-the-container",level:4},{value:"Run the Simulation",id:"run-the-simulation",level:4},{value:"ROS 2 Introduction",id:"ros-2-introduction",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn-1",level:4},{value:"Conceptual Understanding",id:"conceptual-understanding",level:3},{value:"Gazebo",id:"gazebo",level:4},{value:"Rviz",id:"rviz",level:4},{value:"Andino",id:"andino",level:4},{value:"Launch the Andino Robot in Gazebo Simulation",id:"launch-the-andino-robot-in-gazebo-simulation",level:3},{value:"Exercise 1. Controlling the Robot",id:"exercise-1-controlling-the-robot",level:4},{value:"ROS2 Topics",id:"ros2-topics",level:3},{value:"Subscribing to a Topic",id:"subscribing-to-a-topic",level:4},{value:"Publishing to a Topic",id:"publishing-to-a-topic",level:4},{value:"Move The Robot via CLI Topic",id:"move-the-robot-via-cli-topic",level:5},{value:"Exercise 2. Publish a Robot to Rotate",id:"exercise-2-publish-a-robot-to-rotate",level:4},{value:"RViz",id:"rviz-1",level:3},{value:"Subscribe to a new data source:",id:"subscribe-to-a-new-data-source",level:4},{value:"Transformation Frames (TFs)",id:"transformation-frames-tfs",level:3},{value:"Commonly Used Coordinate Frames",id:"commonly-used-coordinate-frames",level:4},{value:"TFs in RViz",id:"tfs-in-rviz",level:3},{value:"Changing Fixed Frame",id:"changing-fixed-frame",level:4},{value:"Visualizing the TF-tree",id:"visualizing-the-tf-tree",level:4},{value:"SLAM &amp; Navigation Demo",id:"slam--navigation-demo",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn-2",level:4},{value:"Create Your First ROS 2 Package",id:"create-your-first-ros-2-package",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn-3",level:4},{value:"Robot Odometry",id:"robot-odometry",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn-4",level:4},{value:"Path Planning",id:"path-planning",level:2},{value:"What You&#39;ll Learn",id:"what-youll-learn-5",level:4}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["This tutorial is generously provided by Dr Ilkka Jormanainen at the University of Eastern Finland and Henki Robotics. For up to date material, please reference the official source repository available ",(0,o.jsx)(n.a,{href:"https://github.com/triton-droids/ros2_onboarding/tree/main",children:"here"}),"."]})}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Docker Cheatsheet"})}),(0,o.jsx)(n.p,{children:"List of all the used Docker commands during the exercises."}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," ",(0,o.jsx)(n.code,{children:"docker compose"})," commands must be run in the directory that contains the ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," file:"]}),"\n"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd robotics_essentials_ros2/docker/\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"re-build-a-container",children:"Re-build a container"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose up --build\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"run-a-container",children:"Run a container"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose up\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"run-a-container-in-detached-mode",children:"Run a container in detached mode"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsxs)(n.h4,{id:"open-a-new-terminal-inside-the-docker-container-",children:["Open a new terminal inside the Docker container ",(0,o.jsx)("a",{id:"new-terminal"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker exec -it robotics_essentials_ros2 bash\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"list-all-running-docker-containers",children:"List all running Docker containers"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"stop-a-running-container",children:"Stop a running container"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker stop robotics_essentials_ros2\n"})}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"remove-a-container",children:"Remove a container"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker rm robotics_essentials_ros2\n"})})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,o.jsx)(n.p,{children:"Set up your development environment, launch your first Gazebo simulation, and get familiar with using Docker containers for ROS 2."}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Setup the exercises"}),"\n",(0,o.jsx)(n.li,{children:"Run the Gazebo simulation"}),"\n",(0,o.jsx)(n.li,{children:"Learn to use Docker"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"x86_64 CPU architecture, (ARM64/AArch64 will not work)"}),"\n",(0,o.jsx)(n.li,{children:"Docker"}),"\n",(0,o.jsx)(n.li,{children:"Git"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"installing-docker",children:"Installing Docker"}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Windows (Docker Desktop)"})}),(0,o.jsx)(n.h4,{id:"system-requirements",children:"System Requirements"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Windows 10 64-bit: Pro, Enterprise, or Education (build 19044+)"}),"\n",(0,o.jsx)(n.li,{children:"Windows 11 64-bit (any edition)"}),"\n",(0,o.jsx)(n.li,{children:"WSL 2 must be enabled (required for Windows Home)"}),"\n"]}),(0,o.jsx)(n.hr,{}),(0,o.jsx)(n.h4,{id:"1-enable-wsl-2",children:"1. Enable WSL 2"}),(0,o.jsxs)(n.p,{children:["Open ",(0,o.jsx)(n.strong,{children:"PowerShell as Administrator"})," and run:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"wsl --install\n"})}),(0,o.jsxs)(n.p,{children:["Then ",(0,o.jsx)(n.strong,{children:"restart your computer"}),"."]}),(0,o.jsx)(n.p,{children:"Alternatively, enable it manually:"}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Open Control Panel \u2192 Programs \u2192 Turn Windows features on or off"}),"\n",(0,o.jsxs)(n.li,{children:["Enable:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Virtual Machine Platform"}),"\n",(0,o.jsx)(n.li,{children:"Windows Subsystem for Linux"}),"\n"]}),"\n"]}),"\n"]}),(0,o.jsx)(n.h4,{id:"2-download-docker-desktop",children:"2. Download Docker Desktop"}),(0,o.jsxs)(n.p,{children:["Visit the official Docker Desktop page:",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop/",children:"https://www.docker.com/products/docker-desktop/"})]}),(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.strong,{children:"\u201cDownload for Windows\u201d"})," and run the installer."]}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Select \u201cUse WSL 2 instead of Hyper-V\u201d"}),"\n",(0,o.jsxs)(n.li,{children:["Finish the setup and ",(0,o.jsx)(n.strong,{children:"reboot"})," if prompted"]}),"\n"]}),(0,o.jsx)(n.h4,{id:"3-verify-installation",children:"3. Verify Installation"}),(0,o.jsxs)(n.p,{children:["After rebooting, open ",(0,o.jsx)(n.strong,{children:"Docker Desktop"})," and confirm it is running."]}),(0,o.jsx)(n.p,{children:"Then open PowerShell and run:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"docker --version\ndocker run hello-world\n"})}),(0,o.jsx)(n.p,{children:'You should see Docker version info and a "Hello from Docker!" message.'})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Ubuntu"})}),(0,o.jsx)(n.h4,{id:"1-add-dockers-official-gpg-key",children:"1. Add Docker's Official GPG Key"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n"})}),(0,o.jsx)(n.h4,{id:"2-set-up-the-docker-repository",children:"2. Set Up the Docker Repository"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'echo \\\n"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\n$(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \\\nsudo tee /etc/apt/sources.list.d/docker.list > /dev/null\nsudo apt-get update\n'})}),(0,o.jsx)(n.h4,{id:"3-install-docker-engine-and-packages",children:"3. Install Docker Engine and packages"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"})}),(0,o.jsx)(n.h4,{id:"4-verify-installation",children:"4. Verify Installation"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo docker --version\nsudo docker run hello-world\n"})}),(0,o.jsx)(n.p,{children:'You should see Docker version info and a "Hello from Docker!" confirmation message.'}),(0,o.jsx)(n.h4,{id:"optional-admin-privileges",children:"Optional: Admin Privileges"}),(0,o.jsxs)(n.p,{children:["You can allow your user to run Docker commands without needing ",(0,o.jsx)(n.code,{children:"sudo"}),":"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Create the Docker group\nsudo groupadd docker\n\n# Add your user to the group\nsudo usermod -aG docker $USER\n\n# Activate the new group (choose one)\nnewgrp docker  # OR log out and log back in\n"})}),(0,o.jsx)(n.p,{children:"Now test:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run hello-world\n"})}),(0,o.jsx)(n.h4,{id:"optional-nvidia-gpu-support-with-docker",children:"Optional: NVIDIA GPU Support with Docker"}),(0,o.jsxs)(n.p,{children:["If you have an ",(0,o.jsx)(n.strong,{children:"NVIDIA GPU"})," and want GPU acceleration inside containers:"]}),(0,o.jsx)(n.h4,{id:"1-configure-the-production-repository",children:"1. Configure the production repository:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\\n&& curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \\\nsed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \\\nsudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\n"})}),(0,o.jsx)(n.h4,{id:"2-optional-enable-experimental-packages",children:"2. (Optional) Enable experimental packages:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo sed -i -e '/experimental/ s/^#//g' /etc/apt/sources.list.d/nvidia-container-toolkit.list\n"})}),(0,o.jsx)(n.h4,{id:"3-update-and-install",children:"3. Update and install:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install -y nvidia-container-toolkit\n"})}),(0,o.jsx)(n.h4,{id:"4-configure-docker-to-use-nvidia-runtime",children:"4. Configure Docker to use NVIDIA runtime:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nvidia-ctk runtime configure --runtime=docker\n"})}),(0,o.jsx)(n.h4,{id:"5-restart-docker",children:"5. Restart Docker:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart docker\n"})}),(0,o.jsx)(n.p,{children:"You're now ready to run GPU-accelerated containers with Docker!"})]}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.p,{children:"All steps afterwards requires a terminal. If you are on windows, it will be easier using a WSL2 machine as the commands differ on Linux and Windows."}),(0,o.jsx)(n.p,{children:"To create a WSL2 machine, please open up powershell as admin and run the command below to enter an Ubuntu machine."}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wsl -d ubuntu\n"})}),(0,o.jsx)(n.p,{children:"That powershell terminal is now running an Ubuntu machine and is how you will interact with it."})]}),"\n",(0,o.jsx)(n.h3,{id:"installing-content-material",children:"Installing Content Material"}),"\n",(0,o.jsx)(n.p,{children:"Clone the ROS2 onboarding repository:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/henki-robotics/robotics_essentials_ros2.git\n"})}),"\n",(0,o.jsx)(n.h4,{id:"create-your-workspace",children:"Create Your Workspace"}),"\n",(0,o.jsx)(n.p,{children:"Create a new workspace where you\u2019ll store your exercises. This directory will be automatically mounted inside the Docker container:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir -p $HOME/exercises_ws/src\n"})}),"\n",(0,o.jsx)(n.h4,{id:"launch-the-docker-container",children:"Launch the Docker Container"}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Only for Ubuntu Graphics"})}),(0,o.jsx)(n.p,{children:"Before starting the Docker container, allow X11 display access by running:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"xhost +\n"})}),(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," You must run this command every time you reboot your computer."]}),"\n"]})]}),"\n",(0,o.jsx)(n.p,{children:"Navigate to the Docker setup directory and launch the container:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd robotics_essentials_ros2/docker/\ndocker compose up\n"})}),"\n",(0,o.jsx)(n.p,{children:"This will build and launch the Docker container, which includes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Ubuntu base system"}),"\n",(0,o.jsx)(n.li,{children:"ROS 2"}),"\n",(0,o.jsx)(n.li,{children:"Gazebo"}),"\n",(0,o.jsx)(n.li,{children:"Simulated Andino robot environment"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Wait for the container to start up completely."}),"\n",(0,o.jsx)(n.h4,{id:"open-a-terminal-inside-the-container",children:"Open a Terminal Inside the Container"}),"\n",(0,o.jsx)(n.p,{children:"Once the container is running, open a new terminal on your host system, then start a terminal session inside the Docker container using the command below:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker exec -it robotics_essentials_ros2 bash\n"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"docker compose up"})," command launches a fully isolated virtual environment.\nThe ",(0,o.jsx)(n.code,{children:"docker exec"})," command lets you interact with the container from a terminal."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"danger",children:(0,o.jsx)(n.p,{children:"For windows users, this might be highly confusing. For high level understanding, you have your base machine (Windows), that has a WSL2 Machine (ubuntu) inside of it. This WSL2 machine (ubuntu) will then create another machine inside of it."})}),"\n",(0,o.jsx)(n.h4,{id:"run-the-simulation",children:"Run the Simulation"}),"\n",(0,o.jsx)(n.p,{children:"Inside the Docker container, verify the setup by launching the Andino simulation:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch andino_gz andino_gz.launch.py\n"})}),"\n",(0,o.jsx)(n.p,{children:"If Gazebo does not open after a few minutes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Ensure you have a good internet connection \u2014 Gazebo may download assets on the first launch."}),"\n",(0,o.jsxs)(n.li,{children:["You may see repeated ",(0,o.jsx)(n.code,{children:"[ros_gz_sim]: Requesting list of world names"})," logs \u2014 this is normal."]}),"\n",(0,o.jsx)(n.li,{children:"If Gazebo appears frozen, press \u201cWait\u201d when prompted."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"If the problem persists:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Refer to ",(0,o.jsx)(n.a,{href:"https://github.com/gazebosim/gz-sim/issues/38",children:"Gazebo GitHub Issue #38"})]}),"\n",(0,o.jsx)(n.li,{children:"Run the following command to temporarily disable your firewall:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo ufw disable\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Once Gazebo opens, press the ",(0,o.jsx)(n.strong,{children:"play"})," button to start the simulation."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/images/andino_sim_screenshot.png",alt:""})}),"\n",(0,o.jsx)(n.p,{children:"You\u2019ve now successfully:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Installed all the required tools using Docker"}),"\n",(0,o.jsx)(n.li,{children:"Started your first simulation with Gazebo"}),"\n",(0,o.jsx)(n.li,{children:"Prepared your environment for the upcoming exercises"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"ros-2-introduction",children:"ROS 2 Introduction"}),"\n",(0,o.jsx)(n.p,{children:"Get introduced to ROS 2 fundamentals, work with Gazebo and RViz, and learn how to use topics and transformations (TF)."}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn-1",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"What are ROS2, Gazebo, and RViz"}),"\n",(0,o.jsx)(n.li,{children:"How to launch Andino Sim and Control it from Gazebo"}),"\n",(0,o.jsx)(n.li,{children:"ROS2 Topics"}),"\n",(0,o.jsx)(n.li,{children:"TF Frames"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"What are ROS 2, Gazebo, and Rviz\nHow to launch Andino simulation and control the robot from Gazebo\nWhat ROS 2 topics are\nHow to publish to a topic\nHow to subscribe to a topic\nWhat tf-frames are"}),"\n",(0,o.jsx)(n.h3,{id:"conceptual-understanding",children:"Conceptual Understanding"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/ros_logo_white_bg.svg",alt:""})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://www.ros.org/",children:"ROS 2 (Robot Operating System 2)"})," is an open-source framework for building robot software.\nIt provides a set of tools, libraries, and conventions, including a middleware for internal communication.\nIt is designed to support real-time performance and multi-robot systems."]}),"\n",(0,o.jsx)(n.h4,{id:"gazebo",children:"Gazebo"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/gazebo_logo_white_bg.svg",alt:""})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://gazebosim.org/home",children:"Gazebo"})," is a powerful open-source robotics simulator that allows developers to test and validate robot designs in complex environments, offering realistic physics and sensor models."]}),"\n",(0,o.jsx)(n.h4,{id:"rviz",children:"Rviz"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_logo.png",alt:""})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://github.com/ros2/rviz",children:"RViz"})," is a 3D visualization tool for ROS that enables developers to visualize sensor data, robot models, and environment maps, aiding in debugging and monitoring robot behavior."]}),"\n",(0,o.jsx)(n.h4,{id:"andino",children:"Andino"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/andino_robot.png",alt:""})}),"\n",(0,o.jsxs)(n.p,{children:["Andino is a fully open-source, educational low-cost robot developed by ",(0,o.jsx)(n.a,{href:"https://github.com/Ekumen-OS/andino",children:"Ekumen"}),".\nIt uses ROS 2 to implement its functionalities and has fully functional ",(0,o.jsx)(n.a,{href:"https://github.com/Ekumen-OS/andino_gz",children:"Gazebo simulations"})," of it available."]}),"\n",(0,o.jsx)(n.h3,{id:"launch-the-andino-robot-in-gazebo-simulation",children:"Launch the Andino Robot in Gazebo Simulation"}),"\n",(0,o.jsx)(n.p,{children:"From the setup, we can run these commands if you haven't yet:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd robotics_essentials_ros2/docker/\ndocker compose up -d\ndocker exec -it robotics_essentials_ros2 bash\nros2 launch andino_gz andino_gz.launch.py\n"})}),"\n",(0,o.jsx)(n.h4,{id:"exercise-1-controlling-the-robot",children:"Exercise 1. Controlling the Robot"}),"\n",(0,o.jsx)(n.p,{children:"Using the GUI, try out all the teleoperation commands to control the Andino. During startup, the Gazebo simulation will most likely be paused. Just make sure you press first the play button in the bottom left of the Gazebo UI to start the simulation and see that the robot moves when you send teleoperation commands."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/gazebo_teleop.png",alt:""})}),"\n",(0,o.jsx)(n.h3,{id:"ros2-topics",children:"ROS2 Topics"}),"\n",(0,o.jsx)(n.p,{children:"ROS 2 topics are a core communication mechanism in ROS 2 that enable data exchange in a publish/subscribe model. Publishers send messages to a named topic, while subscribers listen to that topic to receive relevant data."}),"\n",(0,o.jsx)(n.h4,{id:"subscribing-to-a-topic",children:"Subscribing to a Topic"}),"\n",(0,o.jsx)(n.p,{children:"By subscribing to a topic, you can read sensor data (lidar, camera) and other useful data (map, odometry) from your robot."}),"\n",(0,o.jsxs)(n.p,{children:["Open a new terminal inside the Docker container and run the following commands. You can reference the ",(0,o.jsx)(n.a,{href:"#docker-cheatsheet",children:"docker cheatsheet"})," at the top if needed:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Lists all currently available ROS2 topics"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic list\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/ros2_topic_list.png",alt:""})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Reads topic data from the topic /echo (This is a LIDAR sensor)"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /scan # Ctrl + C to stop\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/ros2_topic_echo.png",alt:""})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"Get topic info and structure"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic info /scan\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/ros2_topic_info.png",alt:""})}),"\n",(0,o.jsx)(n.h4,{id:"publishing-to-a-topic",children:"Publishing to a Topic"}),"\n",(0,o.jsx)(n.p,{children:"There are two ways to publish data to a topic. You can set up a node via code to continuously or functionally send out data or you can use the command line to send out data. Here, we'll use the command line, and then we'll introduce nodes later on."}),"\n",(0,o.jsx)(n.h5,{id:"move-the-robot-via-cli-topic",children:"Move The Robot via CLI Topic"}),"\n",(0,o.jsx)(n.p,{children:"Try moving the robot by publishing to /cmd_vel:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.2}}"\n'})}),"\n",(0,o.jsx)(n.p,{children:"Stop the robot by setting it to 0:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.0}}"\n'})}),"\n",(0,o.jsx)(n.h4,{id:"exercise-2-publish-a-robot-to-rotate",children:"Exercise 2. Publish a Robot to Rotate"}),"\n",(0,o.jsx)(n.p,{children:"Publish a message via CLI to rotate around it's axis."}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Hint"})}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Check what message type ",(0,o.jsx)(n.code,{children:"/cmd_vel"})," and what you can send it."]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"ros2 interface show <message_type>"})," to see what values you can send"]}),"\n"]})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Solution"})}),(0,o.jsx)(n.p,{children:"You can rotate the robot around the z-axis (yaw) using the following CLI command:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{angular: {z: 0.5}}"\n'})})]}),"\n",(0,o.jsx)(n.h3,{id:"rviz-1",children:"RViz"}),"\n",(0,o.jsx)(n.p,{children:"RViz is a useful visualization tool that allows us to display data from ROS 2 topics. With these examples, you will learn how to do that."}),"\n",(0,o.jsx)(n.h4,{id:"subscribe-to-a-new-data-source",children:"Subscribe to a new data source:"}),"\n",(0,o.jsx)(n.p,{children:"The Andino robot is constantly sending images from the camera. We can see them using RViz:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:'Click "Add" button on the bottom left corner of RViz'}),"\n",(0,o.jsx)(n.li,{children:"Choose by topic."}),"\n",(0,o.jsxs)(n.li,{children:["Choose ",(0,o.jsx)(n.code,{children:"Camera"})," under the ",(0,o.jsx)(n.code,{children:"/image_raw"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_add_camera.png",alt:""})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Set overlay alpha to 1 to hide the artifacts on top of the image\n",(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_add_camera_2.png",alt:""})]})}),"\n",(0,o.jsx)(n.h3,{id:"transformation-frames-tfs",children:"Transformation Frames (TFs)"}),"\n",(0,o.jsx)(n.p,{children:'This is the core of robotics representation and is used in ROS2 to describe spatial relationships between different coordinate frames in a robotic system. In simpler words, each transform frame sits in a different position on a 3D axis with its own coordinate system. They sit at the center of the robot, at the center of sensors, at joints, and they are the "Map" and "Odometry" frames. You can think of it as one being the global and the other being local. When your robot moves, the global doesn\'t move, but your local frame does. Transform frames allow us to convert positions and orientations from one frame to another, and basically keep track of how each part of your robot moves in relation to the other parts of the robot. This is crucial for tasks like navigation, sensor fusion, and manipulation. If you don\'t understand it, it\'s fine as this is an upper division and graduate level concept.'}),"\n",(0,o.jsx)(n.p,{children:"The main component for handling transforms in ROS 2 is the tf2 library. It provides:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Coordinate Frames"}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Each sensor or part of a robot has its own coordinate frame (e.g., the robot's base, sensors, end effectors)."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"Transformations"}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"These include translations (movement along axes) and rotations (changes in orientation) between frames."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"By using transforms, robots can effectively understand their position in the world and how their sensors and motors are located in relation to their body."}),"\n",(0,o.jsx)(n.p,{children:"The relationship between these coordinate frames is determined with tf-tree. It essentially tells with a tree-like structure what is the child-frame's position in relation to the parent frame."}),"\n",(0,o.jsx)(n.h4,{id:"commonly-used-coordinate-frames",children:"Commonly Used Coordinate Frames"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Frame"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"map"})}),(0,o.jsx)(n.td,{children:"Provides a global reference point for the robot's environment. It typically contains 2D coordinates representing the robot's position in a known map."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"odom"})}),(0,o.jsx)(n.td,{children:"Tracks the robot\u2019s position relative to its starting point using odometry. Subject to drift and cumulative error."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"base_footprint"})}),(0,o.jsx)(n.td,{children:"Represents the 2D projection of the robot's base on the ground, often used for navigation and path planning."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"base_link"})}),(0,o.jsx)(n.td,{children:"The origin of the robot's body frame, used to anchor other sensors and links."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"laser_link"})}),(0,o.jsx)(n.td,{children:"Specifies the location and orientation of the robot\u2019s laser scanner, essential for tasks like SLAM and obstacle detection."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/ros2_tf_frames.png",alt:""})}),"\n",(0,o.jsx)(n.h3,{id:"tfs-in-rviz",children:"TFs in RViz"}),"\n",(0,o.jsx)(n.p,{children:'When working with RViz, you will need to use the "Fixed Frame" to determine from which frame\'s perspective you are visualizing the data. This is an important feature to know about, as sometimes the data you are looking to visualize might not be available if you are visualizing a wrong frame (point of view).'}),"\n",(0,o.jsx)(n.h4,{id:"changing-fixed-frame",children:"Changing Fixed Frame"}),"\n",(0,o.jsxs)(n.p,{children:['On Andino, the default frame is set to "base_footprint". This means that RViz coordinate origin (0, 0), is set to the robot\'s footprint. Move the robot around with teleoperation using Gazebo. You can see that the robot is always located in the center of the grid that RViz visualizes.\n',(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_coordinate_frame.png",alt:""})]}),"\n",(0,o.jsxs)(n.p,{children:['Try changing the "Fixed Frame" under "Global Options" from "base_footprint" to "odom" to use odometry as the coordinate frame instead of the robot base_footprint frame.\n',(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_fixed_frame.png",alt:""})]}),"\n",(0,o.jsxs)(n.p,{children:["Move the robot around and you'll see that the odometry is used as the coordinate frame instead of the robot base_footprint frame.\n",(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/rviz_odom_frame.png",alt:""})]}),"\n",(0,o.jsx)(n.h4,{id:"visualizing-the-tf-tree",children:"Visualizing the TF-tree"}),"\n",(0,o.jsxs)(n.p,{children:['Sometimes it might be useful to check the robot\'s tf-tree for debugging purposes. You can do it by opening the "Tree" option under the TF menu.\n',(0,o.jsx)(n.img,{src:"https://github.com/triton-droids/ros2_onboarding/raw/main/1-ros_2_introduction/images/tf_tree.png",alt:""})]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"To ensure the odom frame appears correctly at the top of the tree, you may need to press the reset button on the bottom left of Rviz. The odom frame tracks the robot's movement in the environment, making it the logical parent frame for accurately tracking the motion of all other frames."})}),"\n",(0,o.jsx)(n.h2,{id:"slam--navigation-demo",children:"SLAM & Navigation Demo"}),"\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"slam-toolbox"})," to map your environment and ",(0,o.jsx)(n.code,{children:"Nav2"})," to navigate through it autonomously, while also learning how ROS 2 services work."]}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn-2",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Create a map using slam-toolbox"}),"\n",(0,o.jsx)(n.li,{children:"Navigate autonomously using Nav2"}),"\n",(0,o.jsx)(n.li,{children:"ROS 2 services"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"create-your-first-ros-2-package",children:"Create Your First ROS 2 Package"}),"\n",(0,o.jsx)(n.p,{children:"Learn the structure of a ROS 2 package, how to build and source it, and how to write your own nodes."}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn-3",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Create your first ROS 2 package"}),"\n",(0,o.jsx)(n.li,{children:"ROS 2 packages \u2013 how to create your own package"}),"\n",(0,o.jsx)(n.li,{children:"Building and sourcing"}),"\n",(0,o.jsx)(n.li,{children:"ROS 2 Nodes"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"robot-odometry",children:"Robot Odometry"}),"\n",(0,o.jsx)(n.p,{children:"Understand and implement robot odometry based on wheel velocities, and publish it using custom ROS 2 nodes in Python."}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn-4",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Calculate and publish your robot's odometry using wheel velocities"}),"\n",(0,o.jsx)(n.li,{children:"Robot odometry and how to calculate it"}),"\n",(0,o.jsx)(n.li,{children:"Publish and subscribe to topics from Python code"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"path-planning",children:"Path Planning"}),"\n",(0,o.jsxs)(n.p,{children:["Explore motion planning with ",(0,o.jsx)(n.code,{children:"Nav2"}),", tune parameters, and implement basic custom path planners."]}),"\n",(0,o.jsx)(n.h4,{id:"what-youll-learn-5",children:"What You'll Learn"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Basic navigation concepts"}),"\n",(0,o.jsx)(n.li,{children:"Modify Nav2 parameters"}),"\n",(0,o.jsx)(n.li,{children:"Custom path planning using Nav2"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var o=i(6540);const r={},s=o.createContext(r);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);