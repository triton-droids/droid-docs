"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6983],{7995:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>a});var r=i(4848),t=i(8453),s=i(4769);const o={sidebar_position:4},l="Upgrading",d={id:"self-hosted/upgrading",title:"Upgrading",description:"ShellHub cuts regular releases for Community Edition to keep it",source:"@site/docs/self-hosted/upgrading.md",sourceDirName:"self-hosted",slug:"/self-hosted/upgrading",permalink:"/droid-docs/self-hosted/upgrading",draft:!1,unlisted:!1,editUrl:"https://github.com/triton-droids/droid-docs/tree/main/docs/self-hosted/upgrading.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Administration",permalink:"/droid-docs/self-hosted/administration"},next:{title:"Troubleshooting",permalink:"/droid-docs/self-hosted/troubleshooting"}},c={},a=[{value:"Upgrading to a newer version",id:"upgrading-to-a-newer-version",level:2},{value:"Steps",id:"steps",level:3},{value:"Upgrade to Enterprise Edition",id:"upgrade-to-enterprise-edition",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configuring Enterprise",id:"configuring-enterprise",level:2},{value:"Pull ShellHub Enterprise containers",id:"pull-shellhub-enterprise-containers",level:3},{value:"Update environment config",id:"update-environment-config",level:3},{value:"Restart containers",id:"restart-containers",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"upgrading",children:"Upgrading"})}),"\n",(0,r.jsx)(n.p,{children:"ShellHub cuts regular releases for Community Edition to keep it\nas close to ShellHub Cloud as possible."}),"\n",(0,r.jsx)(n.p,{children:"We actively develop ShellHub to add new features and remove bugs, and encourage you to ensure your ShellHub self-hosted instance is using the most up-to-date version."}),"\n",(0,r.jsx)(n.h2,{id:"upgrading-to-a-newer-version",children:"Upgrading to a newer version"}),"\n",(0,r.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Change to ShellHub project dir"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Stop the instance: ",(0,r.jsx)(n.code,{children:"make stop"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Fetch remote changes: ",(0,r.jsx)(n.code,{children:"git remote update origin"}),"\n",(0,r.jsxs)("li",{children:["Checkout the latest stable release: ",(0,r.jsxs)("code",{children:["git checkout ",s.$.version]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Bring up the instance: ",(0,r.jsx)(n.code,{children:"make start"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"Make sure to backup all MongoDB data files before proceeding with upgrade."})}),"\n",(0,r.jsx)(n.h2,{id:"upgrade-to-enterprise-edition",children:"Upgrade to Enterprise Edition"}),"\n",(0,r.jsx)(n.p,{children:"This section describes how to upgrade from the ShellHub Community Edition to the ShellHub Enterprise."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"To complete this guide you will need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["An ",(0,r.jsx)(n.a,{href:"https://ossystems.com.br",children:"ShellHub"})," Private Docker Registry account\nto pull ShellHub Enterprise containers."]}),"\n",(0,r.jsx)(n.li,{children:"A valid ShellHub Enterprise license file."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"mailto:contact@shellhub.io",children:"Contact us"})," to get a quote for the Enterprise version."]})}),"\n",(0,r.jsx)(n.h2,{id:"configuring-enterprise",children:"Configuring Enterprise"}),"\n",(0,r.jsx)(n.p,{children:"Once the Open Source containers of the ShellHub are up and running, let's configure your environment\nto bring up the ShellHub Enterprise containers."}),"\n",(0,r.jsx)(n.h3,{id:"pull-shellhub-enterprise-containers",children:"Pull ShellHub Enterprise containers"}),"\n",(0,r.jsx)(n.p,{children:"First log in to the ShellHub Private Docker Registry with your credentials:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker login https://registry.infra.ossystems.io/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"update-environment-config",children:"Update environment config"}),"\n",(0,r.jsxs)(n.p,{children:["Open the ",(0,r.jsx)(n.code,{children:".env.override"})," file inside ShellHub project dir and set the following variables:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SHELLHUB_ENTERPRISE=true"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SHELLHUB_ENTERPRISE_ADMIN_USERNAME=<USER>"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SHELLHUB_ENTERPRISE_ADMIN_PASSWORD=<PASSWORD>"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"restart-containers",children:"Restart containers"}),"\n",(0,r.jsx)(n.p,{children:"If ShellHub is up and running you need to restart containers by running:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"make restart\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},4769:(e,n,i)=>{i.d(n,{$:()=>r});const r={version:"v0.18.0"}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);