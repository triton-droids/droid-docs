"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3736],{2638:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var s=o(4848),t=o(8453),r=o(8774);const i={sidebar_position:5},l="Troubleshooting",c={id:"self-hosted/troubleshooting",title:"Troubleshooting",description:"In case you're experiencing problems with using ShellHub Self-Hosted,",source:"@site/docs/self-hosted/troubleshooting.md",sourceDirName:"self-hosted",slug:"/self-hosted/troubleshooting",permalink:"/droid-docs/self-hosted/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/triton-droids/droid-docs/tree/main/docs/self-hosted/troubleshooting.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docsSidebar",previous:{title:"Upgrading",permalink:"/droid-docs/self-hosted/upgrading"},next:{title:"Reference",permalink:"/droid-docs/self-hosted/reference"}},a={},d=[{value:"View Docker containers log",id:"view-docker-containers-log",level:2},{value:"Frequently Encountered Issues",id:"frequently-encountered-issues",level:2},{value:"Cannot start service ssh",id:"cannot-start-service-ssh",level:3},{value:"Cannot start gateway",id:"cannot-start-gateway",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,s.jsx)(n.p,{children:"In case you're experiencing problems with using ShellHub Self-Hosted,\nyou can troubleshoot and trace possible errors by using the methods given below."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"ShellHub is made of several docker containers,\neach one being a potential cause for failure.\nHaving an even basic overview of ShellHub's technical architecture\ncan help you understand what is going on.\nYou can refer to the technical architecture for that."})}),"\n",(0,s.jsx)(n.h2,{id:"view-docker-containers-log",children:"View Docker containers log"}),"\n",(0,s.jsx)(n.p,{children:"Viewing the Docker containers log is the very first approach when troubleshooting issues.\nThe critical information in the log can quickly help you find the root causes of most issues."}),"\n",(0,s.jsx)(n.p,{children:"To view all logs from all ShellHub containers, run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"./bin/docker-compose logs\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can also see the logs of each service by running:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker-compose logs <SERVICE>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Refer to the official ",(0,s.jsx)(n.code,{children:"docker-compose logs"})," command ",(0,s.jsx)(r.A,{to:"https://docs.docker.com/engine/reference/commandline/compose_logs/",children:"documentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"frequently-encountered-issues",children:"Frequently Encountered Issues"}),"\n",(0,s.jsxs)(n.p,{children:["IHere is a list of solutions to some frequently encountered issues.\nIf this page doesn't help you solve your problem,\ntry doing a search on ",(0,s.jsx)(n.a,{href:"https://github.com/shellhub-io/shellhub/issues",children:"GitHub Issues"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"cannot-start-service-ssh",children:"Cannot start service ssh"}),"\n",(0,s.jsx)(n.admonition,{title:"ERROR MESSAGE",type:"danger",children:(0,s.jsx)(n.p,{children:"Cannot start service ssh: driver failed programming external connectivity on endpoint shellhub_ssh_1: Error starting userland proxy: listen tcp 0.0.0.0:22: bind: address already in use"})}),"\n",(0,s.jsxs)(n.p,{children:["If you have getting the error message above when starting up the server using ",(0,s.jsx)(n.code,{children:"docker-compose"})," you have two options to solve this issue:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Change the OpenSSH daemon port from 22 to whatever on your host machine;"}),"\n",(0,s.jsxs)(n.li,{children:["Change the default SSH gateway port of ShellHub by setting ",(0,s.jsx)(n.code,{children:"SHELLHUB_SSH_PORT"})," variable inside the configuration file."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cannot-start-gateway",children:"Cannot start gateway"}),"\n",(0,s.jsx)(n.admonition,{title:"ERROR MESSAGE",type:"danger",children:(0,s.jsx)(n.p,{children:"Cannot start service gateway: driver failed programming external connectivity on endpoint shellhub_gateway_1: Error starting userland proxy: listen tcp 0.0.0.0:80: listen: address already in use"})}),"\n",(0,s.jsx)(n.p,{children:"If you get the error message above, then check you have no other running process using the port 80 with the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo lsof -i -P -n | grep :80\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If so, kill the service, for example, if ",(0,s.jsx)(n.code,{children:"apache2"})," is running:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl stop apache2\n"})}),"\n",(0,s.jsx)(n.p,{children:"And disable it from autostart:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo update-rc.d apache2 disable\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>l});var s=o(6540);const t={},r=s.createContext(t);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);