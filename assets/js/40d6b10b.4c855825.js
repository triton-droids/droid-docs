"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1120],{63725:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var i=t(74848),s=t(28453);const o={},r="Yocto Project",l={id:"overview/supported-platforms/yocto",title:"Yocto Project",description:"This guide walks you through integrating ShellHub Agent into Yocto Project-based Linux systems, allowing for seamless remote device management. By combining the Yocto Project's flexibility for custom Linux image builds with ShellHub\u2019s powerful remote management capabilities, you can efficiently manage embedded devices.",source:"@site/docs/overview/supported-platforms/yocto.md",sourceDirName:"overview/supported-platforms",slug:"/overview/supported-platforms/yocto",permalink:"/docs/overview/supported-platforms/yocto",draft:!1,unlisted:!1,editUrl:"https://github.com/shellhub-io/docs/tree/master/docs/overview/supported-platforms/yocto.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"WSL",permalink:"/docs/overview/supported-platforms/wsl"},next:{title:"User Guides",permalink:"/docs/user-guides/"}},c={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Adding the ShellHub Layer",id:"step-1-adding-the-shellhub-layer",level:2},{value:"Step 2: Adding the ShellHub Agent Package to the Image",id:"step-2-adding-the-shellhub-agent-package-to-the-image",level:2},{value:"Optional: Configuring the ShellHub Server Address",id:"optional-configuring-the-shellhub-server-address",level:3},{value:"Step 3: Building the Image",id:"step-3-building-the-image",level:2},{value:"Deploying and Testing",id:"deploying-and-testing",level:2},{value:"Troubleshooting Tips",id:"troubleshooting-tips",level:2},{value:"ShellHub Environment Variables for Yocto Project",id:"shellhub-environment-variables-for-yocto-project",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"yocto-project",children:"Yocto Project"})}),"\n",(0,i.jsx)(n.p,{children:"This guide walks you through integrating ShellHub Agent into Yocto Project-based Linux systems, allowing for seamless remote device management. By combining the Yocto Project's flexibility for custom Linux image builds with ShellHub\u2019s powerful remote management capabilities, you can efficiently manage embedded devices."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Yocto Project Setup:"})," Familiarity with Yocto Project environment and build processes."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ShellHub Access:"})," Valid tenant ID for your ShellHub instance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Git Installed:"})," Required for cloning repositories."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Project for Integration:"})," A Yocto Project setup ready to integrate with ShellHub."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"step-1-adding-the-shellhub-layer",children:"Step 1: Adding the ShellHub Layer"}),"\n",(0,i.jsx)(n.p,{children:"Start by adding the ShellHub layer to your Yocto Project environment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bitbake-layers layerindex-fetch meta-shellhub -b scarthgap\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This command fetches the ",(0,i.jsx)(n.code,{children:"meta-shellhub"})," layer from the ",(0,i.jsx)(n.a,{href:"https://layers.openembedded.org/layerindex/branch/master/layer/meta-shellhub/",children:"OpenEmbedded Layer Index"})," and adds it to the ",(0,i.jsx)(n.strong,{children:"bblayers.conf"})," file."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you want to consult meta-shellhub compability with others Yocto Project releases, you can consult the ",(0,i.jsx)(n.a,{href:"https://github.com/shellhub-io/meta-shellhub",children:"meta-shellhub repository"})," and look the branches available."]})}),"\n",(0,i.jsxs)(n.p,{children:["For more on managing layers, see ",(0,i.jsx)(n.a,{href:"https://docs.yoctoproject.org/next/dev-manual/layers.html#managing-layers",children:"Managing Layers in Yocto"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"step-2-adding-the-shellhub-agent-package-to-the-image",children:"Step 2: Adding the ShellHub Agent Package to the Image"}),"\n",(0,i.jsxs)(n.p,{children:["To include the ShellHub Agent in your build, add ",(0,i.jsx)(n.code,{children:"shellhub-agent"})," to your image. Set ",(0,i.jsx)(n.code,{children:"SHELLHUB_TENANT_ID"})," to link the device to your ShellHub instance."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["If you don't know how to get your Tenant ID, see ",(0,i.jsx)(n.a,{href:"/user-guides/namespaces/retrieving-your-tenant-id",children:"Retrieving Your Tenant ID"})]})}),"\n",(0,i.jsxs)(n.p,{children:["Edit the ",(0,i.jsx)(n.code,{children:"conf/local.conf"})," file to add these variables:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'CORE_IMAGE_EXTRA_INSTALL += "packagegroup-shellhub-runtime"\nSHELLHUB_TENANT_ID = "<your tenant id here>"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"optional-configuring-the-shellhub-server-address",children:"Optional: Configuring the ShellHub Server Address"}),"\n",(0,i.jsxs)(n.p,{children:["If using a self-hosted ShellHub server, add this line to ",(0,i.jsx)(n.code,{children:"conf/local.conf"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'SHELLHUB_SERVER_ADDRESS = "<your server address here>"\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["You can also change others ShellHub Agent settings. See the complete variable list ",(0,i.jsx)(n.a,{href:"#shellhub-environment-variables",children:"here"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"step-3-building-the-image",children:"Step 3: Building the Image"}),"\n",(0,i.jsx)(n.p,{children:"Once configured, build the image with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"bitbake <image-name>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Replace ",(0,i.jsx)(n.code,{children:"<image-name>"})," with your target image (e.g., ",(0,i.jsx)(n.code,{children:"core-image-base"}),")."]}),"\n",(0,i.jsx)(n.h2,{id:"deploying-and-testing",children:"Deploying and Testing"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Flash the image onto your target device."}),"\n",(0,i.jsx)(n.li,{children:"Connect the device to the internet."}),"\n",(0,i.jsx)(n.li,{children:"Boot the device and verify its connection to your ShellHub instance under the specified tenant ID."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(96551).A+"",width:"284",height:"158"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-tips",children:"Troubleshooting Tips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network Connectivity:"})," Ensure the device can reach the ShellHub server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tenant ID & Server Address:"})," Double-check these values in ",(0,i.jsx)(n.code,{children:"conf/local.conf"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dependencies:"})," Verify all necessary dependencies for the ShellHub Agent are met."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Yocto Variables:"})," Ensure all Yocto configuration variables are correctly spelled."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"shellhub-environment-variables-for-yocto-project",children:"ShellHub Environment Variables for Yocto Project"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SHELLHUB_SERVER_ADDRESS:"})," Sets the address for the ShellHub server (default is ShellHub Cloud: ",(0,i.jsx)(n.a,{href:"https://cloud.shellhub.io",children:"https://cloud.shellhub.io"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SHELLHUB_PRIVATE_KEY:"})," Path to the device\u2019s private key."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SHELLHUB_TENANT_ID:"})," Links the device to a specific tenant or namespace."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SHELLHUB_KEEPALIVE_INTERVAL:"})," Interval for keep-alive messages to the server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SHELLHUB_PREFERRED_HOSTNAME:"})," Suggested hostname for the device, if available."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(n.p,{children:["Your Yocto Project image now has ShellHub integrated for efficient remote management of your embedded devices. For more on the Yocto Project, see the ",(0,i.jsx)(n.a,{href:"https://docs.yoctoproject.org/",children:"Yocto Project Documentation"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},96551:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/pending-device-notification-fba8151ded082240e0ae22d5da341c24.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);